(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t.p+"static/media/logo.5c0436d5.png"},24:function(e,a,t){e.exports=t(45)},29:function(e,a,t){},30:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(5),l=t(7),i=t(20),s=t.n(i),o=t(8),u=t(9),m=t(11),h=t(10),d=t(6),p=t(12),E=function(e){return e.json().then(function(a){return e.ok?a:Promise.reject(a)})},g=function(e){return e>0?c.a.createElement("span",{className:"percent-raised"},e,"% \u2191"):e<0?c.a.createElement("span",{className:"percent-fallen"},e,"% \u2193"):c.a.createElement("span",null,e)},v=(t(29),function(e){var a=e.width,t=e.height;return c.a.createElement("div",{className:"Loading",style:{width:a,height:t}})});v.defaultProps={width:"28px",height:"28px"};var f=v,N="https://api.udilia.com/coins/v1",b=(t(30),function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(m.a)(this,Object(h.a)(a).call(this))).state={searchResults:[],searchQuery:"",loading:!1},e.handleRedirect=e.handleRedirect.bind(Object(d.a)(e)),e.handleChange=e.handleChange.bind(Object(d.a)(e)),e}return Object(p.a)(a,e),Object(u.a)(a,[{key:"handleChange",value:function(e){var a=this,t=e.target.value;if(this.setState({searchQuery:t}),!t)return!1;this.setState({loading:!0}),fetch("".concat(N,"/autocomplete?searchQuery=").concat(t)).then(E).then(function(e){a.setState({searchResults:e,loading:!1})})}},{key:"handleRedirect",value:function(e){this.setState({searchQuery:"",searchResults:[]}),this.props.history.push("/currency/".concat(e))}},{key:"renderSearchResults",value:function(){var e=this,a=this.state,t=a.searchResults,n=a.searchQuery,r=a.loading;return n?t.length>0?c.a.createElement("div",{className:"Search-result-container"},t.map(function(a){return c.a.createElement("div",{key:a.id,className:"Search-result",onClick:function(){return e.handleRedirect(a.id)}},a.name," (",a.symbol,")")})):r?void 0:c.a.createElement("div",{className:"Search-result-container"},c.a.createElement("div",{className:"Search-no-result"},"No results found.")):""}},{key:"render",value:function(){var e=this.state,a=e.searchQuery,t=e.loading;return c.a.createElement("div",{className:"Search"},c.a.createElement("div",null,c.a.createElement("span",{className:"Search-icon"}),c.a.createElement("input",{onChange:this.handleChange,type:"text",className:"Search-input",placeholder:"Currency name",value:a}),t&&c.a.createElement("div",{className:"Search-loading"},c.a.createElement(f,{width:"12px",height:"12px"}))),this.renderSearchResults())}}]),a}(c.a.Component)),y=Object(l.e)(b),k=t(23),C=t.n(k),P=(t(39),function(){return c.a.createElement("div",{className:"Header"},c.a.createElement(r.b,{to:"/"},c.a.createElement("img",{src:C.a,alt:"logo",className:"Header-logo"})),c.a.createElement(y,null))}),j=(t(40),function(e){var a=e.totalPages,t=e.page,n=e.handlePaginationClick;return c.a.createElement("div",{className:"Pagination"},c.a.createElement("button",{className:"Pagination-button",disabled:t<=1,onClick:function(){return n("prev")}},"\u2190"),c.a.createElement("span",{className:"Pagination-info"},"Page ",c.a.createElement("b",null,t)," of ",c.a.createElement("b",null,a)),c.a.createElement("button",{className:"Pagination-button",disabled:t===a,onClick:function(){return n("next")}},"\u2192"))}),S=(t(41),Object(l.e)(function(e){var a=e.history,t=e.currencies;return c.a.createElement("div",{className:"Table-container"},c.a.createElement("table",{className:"Table"},c.a.createElement("thead",{className:"Table-head"},c.a.createElement("tr",null,c.a.createElement("th",null,"Cryptocurrency"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Market Cap"),c.a.createElement("th",null,"24H Change"))),c.a.createElement("tbody",{className:"Table-body"},t.map(function(e){return c.a.createElement("tr",{key:e.id,onClick:function(){return a.push("/currency/".concat(e.id))}},c.a.createElement("td",null,c.a.createElement("span",{className:"Table-rank"},e.rank),e.name),c.a.createElement("td",null,c.a.createElement("span",{className:"Table-dollar"},"$"),e.price),c.a.createElement("td",null,c.a.createElement("span",{className:"Table-dollar"},"$"),e.marketCap),c.a.createElement("td",null,g(e.percentChange24h)))}))))})),O=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(m.a)(this,Object(h.a)(a).call(this))).state={page:1,totalPages:0,perPage:20,currencies:[],loading:!1,error:""},e.handlePaginationClick=e.handlePaginationClick.bind(Object(d.a)(e)),e}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentWillMount",value:function(){this.fetchCurrencies()}},{key:"fetchCurrencies",value:function(){var e=this,a=this.state,t=a.page,n=a.perPage;this.setState({loading:!0}),fetch("".concat(N,"/cryptocurrencies/?page=").concat(t,"&perPage=").concat(n)).then(E).then(function(a){var t=a.totalPages,n=a.currencies;e.setState({currencies:n,totalPages:t,error:"",loading:!1})}).catch(function(a){e.setState({error:a.errorMessage,loading:!1})})}},{key:"handlePaginationClick",value:function(e){var a=this,t=this.state.page;t="next"===e?t+1:t-1,this.setState({page:t},function(){a.fetchCurrencies()})}},{key:"render",value:function(){var e=this.state,a=e.currencies,t=e.loading,n=e.error,r=e.page,l=e.totalPages;return t?c.a.createElement("div",{className:"loading-container"},c.a.createElement(f,null)):n?c.a.createElement("div",{className:"error"},n):c.a.createElement("div",null,c.a.createElement(S,{currencies:a}),c.a.createElement(j,{page:r,totalPages:l,handlePaginationClick:this.handlePaginationClick}))}}]),a}(c.a.Component),D=(t(42),function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(m.a)(this,Object(h.a)(a).call(this))).state={currency:{},error:"",loading:!1},e}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.match.params.id;this.fetchCurrency(e)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.location.pathname!==e.location.pathname){var a=e.match.params.id;this.fetchCurrency(a)}}},{key:"fetchCurrency",value:function(e){var a=this;this.setState({loading:!0}),fetch("".concat(N,"/cryptocurrencies/").concat(e)).then(E).then(function(e){a.setState({currency:e,error:"",loading:!1})}).catch(function(e){a.setState({error:e.errorMessage,loading:!1})})}},{key:"render",value:function(){var e=this.state,a=e.currency,t=e.loading,n=e.error;return t?c.a.createElement("div",{className:"loading-container"},c.a.createElement(f,null)):n?c.a.createElement("div",{className:"error"},n):c.a.createElement("div",{className:"Detail"},c.a.createElement("h1",{className:"Detail-heading"},a.name," (",a.symbol,")"),c.a.createElement("div",{className:"Detail-container"},c.a.createElement("div",{className:"Detail-item"},"Price ",c.a.createElement("span",{className:"Detail-value"},"$ ",a.price)),c.a.createElement("div",{className:"Detail-item"},"Rank ",c.a.createElement("span",{className:"Detail-value"},a.rank)),c.a.createElement("div",{className:"Detail-item"},"24H change",c.a.createElement("span",{className:"Detail-value"},g(a.percentChange24h))),c.a.createElement("div",{className:"Detail-item"},c.a.createElement("span",{className:"Detail-title"},"Market cap"),c.a.createElement("span",{className:"Detail-dollar"},"$"),a.marketCap),c.a.createElement("div",{className:"Detail-item"},c.a.createElement("span",{className:"Detail-title"},"24H Volume"),c.a.createElement("span",{className:"Detail-dollar"},"$"),a.volume24h),c.a.createElement("div",{className:"Detail-item"},c.a.createElement("span",{className:"Detail-title"},"Total supply"),a.totalSupply)))}}]),a}(c.a.Component)),x=(t(43),function(){return c.a.createElement("div",{className:"HomePage"},c.a.createElement("h1",{className:"HomePage-title"},"Welcome to the Cryptocurrency Price Index"),c.a.createElement(r.b,{to:"/",className:"HomePage-link"},"start!!"))});t(44);s.a.render(c.a.createElement(function(){return c.a.createElement(r.a,null,c.a.createElement("div",null,c.a.createElement(P,null),c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:O}),c.a.createElement(l.a,{exact:!0,path:"/currency/:id",component:D}),c.a.createElement(l.a,{component:x}))))},null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.32964dd0.chunk.js.map